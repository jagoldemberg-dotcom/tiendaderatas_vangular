<main class="container py-4" *ngIf="usuario">
  <h1 class="h4 mb-3">Mi perfil</h1>

  <div class="card mb-3">
    <div class="card-body">
      <form
        [formGroup]="perfilForm"
        (ngSubmit)="onSubmit()"
        novalidate
      >
        <div class="row g-3">
          <div class="col-12 col-md-6">
            <label class="form-label" for="nombre">Nombre</label>
            <input
              id="nombre"
              type="text"
              class="form-control"
              formControlName="nombre"
            />
          </div>

          <div class="col-12 col-md-6">
            <label class="form-label" for="email">Correo</label>
            <input
              id="email"
              type="email"
              class="form-control"
              formControlName="email"
              disabled
            />
            <div class="form-text">
              El correo no se puede modificar.
            </div>
          </div>

          <div class="col-12 col-md-6">
            <label class="form-label" for="edad">Edad</label>
            <input
              id="edad"
              type="number"
              class="form-control"
              formControlName="edad"
            />
          </div>

          <div class="col-12">
            <label class="form-label" for="direccion">Dirección de despacho</label>
            <input
              id="direccion"
              type="text"
              class="form-control"
              formControlName="direccion"
              placeholder="Opcional"
            />
          </div>
        </div>

        <div class="mt-3 d-flex flex-wrap gap-2">
          <button class="btn btn-primary" type="submit">
            Guardar cambios
          </button>
          <button class="btn btn-outline-secondary" type="button" (click)="cerrarSesion()">
            Cerrar sesión
          </button>
        </div>
      </form>

      <div *ngIf="mensajeExito" class="alert alert-success mt-3">
        {{ mensajeExito }}
      </div>
    </div>
  </div>

  <a routerLink="/orders" class="btn btn-outline-primary">Ver mis compras</a>
</main>
